<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">
<!ENTITY plusmn "&#xB1;">

<!-- Useful for describing APIs -->
<!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

<!ENTITY CHECK  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="figures/Check_mark_23x20_02.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>

<!ENTITY ARROW  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="figures/Arrow_east.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>
]>
<chapter xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="ch_tables">
    <title>Tables</title>
    <para>Types of tables, when to use tables versus when to use
        lists.</para>
    <?dbhtml stop-chunking?>
    <section xml:id="format_tables">
        <title>Format Tables</title>
        <para>To control the overall width of a table and the width of
            each column, use the following markup:</para>
        <programlisting>&lt;table rules="all" width="75%"&gt;
      &lt;caption&gt;Table Using Percentage Widths&lt;/caption&gt;
      &lt;col width="16%"/&gt;
      &lt;col width="14%"/&gt;
      &lt;col width="42%"/&gt;
      &lt;col width="28%"/&gt;
      &lt;thead&gt;
        &lt;tr align="center"&gt;
          &lt;td&gt;Verb&lt;/td&gt;
          &lt;td&gt;URI&lt;/td&gt;
          &lt;td&gt;RegEx&lt;/td&gt;
          &lt;td&gt;Default&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt; &amp;GET; &lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/*&lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/(\d+/domains).*&lt;/td&gt;
          &lt;td&gt;5/second&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt; &amp;POST; &lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/*&lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/(\d+/domains).*&lt;/td&gt;
          &lt;td&gt;2/second&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt; &amp;PUT; &lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/*&lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/(\d+/domains).*&lt;/td&gt;
          &lt;td&gt;5/second&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt; &amp;DELETE; &lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/*&lt;/td&gt;
          &lt;td&gt;/v\d+\.\d+/(\d+/domains).*&lt;/td&gt;
          &lt;td&gt;50/minute&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;</programlisting>
        <para>When you create a table, check its appearance in all
            generated output formats. Column widths that are
            appropriate in HTML output might be unusable in PDF
            output. You can describe a table differently for each
            output format; see <link
                xlink:href="https://one.rackspace.com/display/RED/Troubleshooting+badly+formatted+tables"
                >Troubleshooting badly formatted tables</link>.</para>
    </section>
    <section xml:id="troubleshooting_tables">
        <title>Troubleshoot Tables</title>
        <section xml:id="rebuild_cals">
            <title>CALS Tables Format Incorrectly</title>
            <variablelist>
                <varlistentry>
                    <term>Problem</term>
                    <listitem>
                        <para>CALS tables previously worked but no
                            longer do. You might find one in an old
                            document, as follows:</para>
                        <programlisting language="xml"><xi:include href="samples/table_bad.xml" parse="text"/></programlisting>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Solution</term>
                    <listitem>
                        <para>Rebuild the CALS table to match the
                            following markup:</para>
                        <programlisting language="xml"><xi:include href="samples/table_good.xml" parse="text"/></programlisting>
                    </listitem>
                </varlistentry>
            </variablelist>

        </section>
        <section xml:id="table_size">
            <title>Tables Size Differently in PDF and HTML
                Outputs</title>


            <variablelist>

                <varlistentry>
                    <term>Problem</term>
                    <listitem>
                        <para>XML source generates tables with
                            different widths in the PDF and HTML
                            outputs.</para>
                    </listitem>
                </varlistentry>


                <varlistentry>
                    <term>Solution</term>
                    <listitem>
                        <para>The table width is controlled separately
                            for PDF and HTML outputs. </para>
                        <para>To correct the problem, specify the
                            table width twice in a CALS-type table.
                            For
                            example:<programlisting>&lt;table frame="all"&gt;                
        &lt;?dbhtml table-width="85%" ?&gt;                
        &lt;?dbfo table-width="100%" ?&gt;                
        &lt;title&gt;Sample Regular Expressions&lt;/title&gt;                
        &lt;tgroup cols="2"&gt;                    
          &lt;colspec colname="c1" colnum="1" colwidth="1.0*"/&gt;                    
          &lt;colspec colname="c2" colnum="2" colwidth="1.48*"/&gt;                    
          &lt;thead&gt;                        
             &lt;row&gt;                            
                &lt;entry&gt;RegEx&lt;/entry&gt;                            
                &lt;entry&gt;Discussion&lt;/entry&gt;                        
             &lt;/row&gt;                    
          &lt;/thead&gt; </programlisting></para>
                        <para>For more information, see <link
                                xlink:href="http://www.sagehill.net/docbookxsl/Tables.html#TableWidth"
                                >Table width</link>. </para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section xml:id="edgeless_tables">
            <title>Tables Have No Borders</title>

            <variablelist>
                <varlistentry>
                    <term>Problem</term>
                    <listitem>
                        <para>Tables have no borders.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Solution</term>
                    <listitem>
                        <para>In a CALS table, define the table as
                            follows:<programlisting>&lt;table frame="all"></programlisting></para>
                        <para>In an HTML table, define the table as
                            follows:<programlisting>&lt;table rules="all" frame="border"></programlisting></para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </section>
        <section xml:id="problem3">
            <title>Long URLs Do Not Wrap Inside a Table Cell</title>
            <variablelist>
                <varlistentry>
                    <term>Problem</term>
                    <listitem>
                        <para>DocBook can generate line breaks at a
                            space or a slash but not at a period, such
                            as in
                                <literal>verylongdescriptivenameofaresource.com</literal>. </para>
                        <para>In HTML output, the table cell widens to
                            the size of the string. </para>
                        <para>In PDF output, that does not happen,
                            which causes long URLs in a table in a PDF
                            to be wider than the table cell that
                            contains them, which causes them to
                            overstrike the contents of an adjacent
                            cell or to disappear off the edge of the
                            page, as shown in the following figure:<mediaobject>
                                <imageobject>
                                    <imagedata
                                        fileref="figures/table-PDF-nowrapURLintable.png"
                                        contentwidth="6in"/>
                                </imageobject>
                            </mediaobject> </para>

                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Solution</term>
                    <listitem>
                        <para>First, manually update the table so that
                            the rows become columns, and the columns
                            become rows, as shown in the following
                            figure:</para>
                        
                        <mediaobject>
                            <imageobject>
                                <imagedata
                                   fileref="figures/table-PDF-force2edge.png"
                                   contentwidth="6in"/>
                            </imageobject>
                        </mediaobject>
                        <para>Then, specify column widths that add up
                            to greater than 100% of the space reserved
                            for the table, as shown in the following
                            markup:<programlisting language="xml"><xi:include href="samples/table.xml" parse="text"/></programlisting></para>
                    </listitem>
                </varlistentry>
            </variablelist>





        </section>
    </section>







</chapter>
